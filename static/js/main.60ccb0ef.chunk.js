(this.webpackJsonprestaurant=this.webpackJsonprestaurant||[]).push([[0],{146:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),o=(a(74),a(55)),i=a(25),s=a.n(i),u=a(34),m=a(17),d=a(147),h=a(148),E=a(149),f=a(150),p=a(151),b=a(152),g=a(153),v=a(154),k=a(155),j=a(156),O=a(157),w=a(39),M=a(51),y=function(e){var t={url:e.url,button:M.ShareButtonRectangle,buttons:[{network:"Twitter",icon:w.b},{network:"Facebook",icon:w.a}],text:"Visitanos cuando quieras en ".concat(e.text),longtext:"Encuentranos en ".concat(e.address)};return r.a.createElement(M.ShareBlockStandard,t)},C=a(35),S=a(36),x=a(40),N=a(38),I=a(41),P=a(52),W=function(e){function t(){return Object(C.a)(this,t),Object(x.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement(P.FacebookProvider,{appId:"717589285046812"},r.a.createElement(P.Like,{href:this.props.url,colorScheme:"dark",showFaces:!0}))}}]),t}(n.Component),q="https://json-server-now.javierfuentesm.now.sh/restaurants",B=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return r.a.createElement(d.a,null,r.a.createElement("br",null),r.a.createElement("select",{className:"form-control",onChange:function(e){"rating"===e.target.value?c((function(e){var t=e.sort((function(e,t){return e.rating<t.rating?1:-1}));return Object(o.a)(t)})):c((function(e){var t=e.sort((function(e,t){return e.name>t.name?1:-1}));return Object(o.a)(t)}))}},r.a.createElement("option",{value:""},"Ordenar por :"),r.a.createElement("option",{value:"rating"},"Ordenar por rating"),r.a.createElement("option",{value:"nombre"},"Ordenar por Nombre")),r.a.createElement("br",null),r.a.createElement(h.a,null,a.map((function(e){return r.a.createElement(E.a,{key:e.id,md:4},r.a.createElement(f.a,null,r.a.createElement(p.a,null," ",e.name),r.a.createElement(b.a,{top:!0,width:"100%",src:"https://picsum.photos/740/420/?random",alt:e.name}),r.a.createElement(g.a,null,r.a.createElement(v.a,null,r.a.createElement("h3",null,"Rating ",e.rating)),r.a.createElement(k.a,null,r.a.createElement("h5",null,"Direccion")),r.a.createElement(j.a,null,e.address.street," ",e.address.city," ",e.address.state),r.a.createElement(k.a,null,r.a.createElement("h5",null,"Contacto")),r.a.createElement(j.a,null,e.contact.site," "),r.a.createElement(j.a,null,e.contact.email," "),r.a.createElement(j.a,null,e.contact.phone," "),r.a.createElement("a",{className:"btn btn-primary",href:e.contact.site,role:"button"},"Sitio Web")),r.a.createElement(O.a,{className:"text-muted"},r.a.createElement(W,{url:e.contact.site}),r.a.createElement(y,{url:e.contact.site,text:e.name,address:"".concat(e.address.street," ").concat(e.address.city," ").concat(e.address.state)}))))}))))},z=a(158),A=a(159),F=a(160),L=a(163),D=a(161),R=a(162),J=a(29),Q=function(e){var t=Object(n.useState)(!0),a=Object(m.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",null,r.a.createElement(z.a,{color:"primary",dark:!0,variant:"primary",expand:"lg"},r.a.createElement(A.a,{href:"/",className:"mr-auto"},"Restaurantes"),r.a.createElement(F.a,{onClick:function(){return l(!c)},className:"mr-2"}),r.a.createElement(L.a,{isOpen:!c,navbar:!0},r.a.createElement(D.a,{navbar:!0},r.a.createElement(R.a,null,r.a.createElement(J.b,{className:"nav-link",to:"/"},r.a.createElement("span",{className:"fa fa-home fa-lg"})," Inicio")),r.a.createElement(R.a,null,r.a.createElement(J.b,{className:"nav-link",to:"/map"},r.a.createElement("span",{className:"fa fa-home fa-lg"})," Mapas"))))))},_=a(26),G=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(x.a)(this,Object(N.a)(t).call(this,e))).onMarkerClick=function(e,t,n){a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onMapClicked=function(e,t,n){a.state.markers;var r=n.latLng.lat(),c=n.latLng.lng();a.props.locationChanged({lat:r,lng:c}),a.setState({marker:{lat:r,lng:c}})},a.state={google:a.props.google,showingInfoWindow:!1,marker:{},activeMarker:{},selectedPlace:{}},a}return Object(I.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.Map,{google:this.state.google,zoom:15,onClick:this.onMapClicked,initialCenter:{lat:19.440057053713137,lng:-99.12704709742486},style:{width:"70%",height:"100%"}},r.a.createElement(_.Marker,{onClick:this.onMarkerClick,position:this.state.marker,name:"Posici\xf3n inicial"}),this.props.data.map((function(t){return r.a.createElement(_.Marker,{key:t.id,onClick:e.onMarkerClick,position:{lat:t.address.location.lat,lng:t.address.location.lng},name:t.name})})),r.a.createElement(_.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",null,r.a.createElement("h1",null,this.state.selectedPlace.name)))))}}]),t}(n.Component),K=Object(_.GoogleApiWrapper)({apiKey:"AIzaSyCmjvkXB_DMnBUNwxQztLMStyQmA_szbNw"})(G),T=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(m.a)(l,2),i=o[0],E=o[1],f=Object(n.useState)(0),p=Object(m.a)(f,2),b=p[0],g=p[1],v=Object(n.useState)(0),k=Object(m.a)(v,2),j=k[0],O=k[1],w=Object(n.useState)(0),M=Object(m.a)(w,2),y=M[0],C=M[1],S=Object(n.useState)({}),x=Object(m.a)(S,2),N=x[0],I=x[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var P=function(){var e=a.filter((function(e){return function(e,t){var a=e.latitude,n=e.longitude,r=t.latitude,c=t.longitude,l=a*(Math.PI/180),o=r*(Math.PI/180),i=(r-a)*(Math.PI/180),s=(c-n)*(Math.PI/180),u=Math.sin(i/2)*Math.sin(i/2)+Math.cos(l)*Math.cos(o)*(Math.sin(s/2)*Math.sin(s/2));return 6371e3*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}({latitude:e.address.location.lat,longitude:e.address.location.lng},{latitude:N.lat,longitude:N.lng})<=+b}));E(e)};Object(n.useEffect)((function(){W()}),[i]);var W=function(){var e=i.map((function(e){return e.rating})).reduce((function(e,t){return e+t}),0)/i.length;C(e);var t=i.map((function(t){return Math.pow(t.rating-e,2)})).reduce((function(e,t){return e+t}),0)/i.length,a=Math.sqrt(t);O(a)};return r.a.createElement(d.a,null,"Selecciona el punto de partida inicial dando click en el mapa",r.a.createElement("br",null),r.a.createElement("br",null),"Ingresa el radio de tu b\xfasqueda a partir de tu posici\xf3n inicial",r.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){g(e.target.value)},value:b}),r.a.createElement("br",null),r.a.createElement("button",{className:"form-control",onClick:function(){P()}}," ","Encontrar"),r.a.createElement("br",null),r.a.createElement("br",null),i.length>0?r.a.createElement("div",null,r.a.createElement("div",null,"N\xfamero total de restaurantes en el radio dado"," ",i.length),r.a.createElement("div",null,"Promedio de rating de restaurantes en el rango seleccionado"," ",y),r.a.createElement("div",null,"Desviaci\xf3n Est\xe1ndar"," ",j)):"A\xfan no has hecho ninguna b\xfasqueda",r.a.createElement("br",null),r.a.createElement(h.a,null,r.a.createElement(K,{data:i,locationChanged:function(e){I(e),console.log(e)}})))},U=a(20),V=function(){return r.a.createElement(J.a,null,r.a.createElement(Q,null),r.a.createElement(U.c,null,r.a.createElement(U.a,{path:"/",exact:!0},r.a.createElement(B,null)),r.a.createElement(U.a,{path:"/map",exact:!0},r.a.createElement(T,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(145);l.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},69:function(e,t,a){e.exports=a(146)},74:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.60ccb0ef.chunk.js.map