(this.webpackJsonprestaurant=this.webpackJsonprestaurant||[]).push([[0],{133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),o=(a(68),a(53)),i=a(24),s=a.n(i),u=a(34),m=a(18),d=a(134),p=a(135),h=a(136),E=a(137),b=a(138),g=a(139),f=a(140),v=a(141),k=a(142),j=a(143),O=a(144),w=a(38),M=a(49),C=function(e){var t={url:e.url,button:M.ShareButtonRectangle,buttons:[{network:"Twitter",icon:w.b},{network:"Facebook",icon:w.a}],text:"Visitanos cuando quieras en ".concat(e.text),longtext:"Encuentranos en ".concat(e.address)};return r.a.createElement(M.ShareBlockStandard,t)},S=a(35),N=a(36),y=a(39),x=a(37),I=a(40),P=a(50),W=function(e){function t(){return Object(S.a)(this,t),Object(y.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return r.a.createElement(P.FacebookProvider,{appId:"717589285046812"},r.a.createElement(P.Like,{href:this.props.url,colorScheme:"dark",showFaces:!0}))}}]),t}(n.Component),q="https://recruiting-datasets.s3.us-east-2.amazonaws.com/data_melp.json",B=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return r.a.createElement(d.a,null,r.a.createElement("br",null),r.a.createElement("select",{className:"form-control",onChange:function(e){"rating"===e.target.value?l((function(e){var t=e.sort((function(e,t){return e.rating<t.rating?1:-1}));return Object(o.a)(t)})):l((function(e){var t=e.sort((function(e,t){return e.name>t.name?1:-1}));return Object(o.a)(t)}))}},r.a.createElement("option",{value:""},"Ordenar por :"),r.a.createElement("option",{value:"rating"},"Ordenar por rating"),r.a.createElement("option",{value:"nombre"},"Ordenar por Nombre")),r.a.createElement("br",null),r.a.createElement(p.a,null,a.map((function(e){return r.a.createElement(h.a,{key:e.id,md:4},r.a.createElement(E.a,null,r.a.createElement(b.a,null," ",e.name),r.a.createElement(g.a,{top:!0,width:"100%",src:"https://picsum.photos/740/420/?random",alt:e.name}),r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement("h3",null,"Rating ",e.rating)),r.a.createElement(k.a,null,r.a.createElement("h5",null,"Direccion")),r.a.createElement(j.a,null,e.address.street," ",e.address.city," ",e.address.state),r.a.createElement(k.a,null,r.a.createElement("h5",null,"Contacto")),r.a.createElement(j.a,null,e.contact.site," "),r.a.createElement(j.a,null,e.contact.email," "),r.a.createElement(j.a,null,e.contact.phone," "),r.a.createElement("a",{className:"btn btn-primary",href:e.contact.site,role:"button"},"Sitio Web")),r.a.createElement(O.a,{className:"text-muted"},r.a.createElement(W,{url:e.contact.site}),r.a.createElement(C,{url:e.contact.site,text:e.name,address:"".concat(e.address.street," ").concat(e.address.city," ").concat(e.address.state)}))))}))))},z=a(29),A=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Restaurantes"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(z.b,{to:"/"},"Inicio"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link"},r.a.createElement(z.b,{to:"/map"},"Mapa"))))))},F=a(25),L=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(y.a)(this,Object(x.a)(t).call(this,e))).onMarkerClick=function(e,t,n){a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onMapClicked=function(e,t,n){a.state.markers;var r=n.latLng.lat(),l=n.latLng.lng();a.props.locationChanged({lat:r,lng:l}),a.setState({marker:{lat:r,lng:l}})},a.state={google:a.props.google,showingInfoWindow:!1,marker:{},activeMarker:{},selectedPlace:{}},a}return Object(I.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.Map,{google:this.state.google,zoom:15,onClick:this.onMapClicked,initialCenter:{lat:19.440057053713137,lng:-99.12704709742486},style:{width:"70%",height:"100%"}},r.a.createElement(F.Marker,{onClick:this.onMarkerClick,position:this.state.marker,name:"Posici\xf3n inicial"}),this.props.data.map((function(t){return r.a.createElement(F.Marker,{key:t.id,onClick:e.onMarkerClick,position:{lat:t.address.location.lat,lng:t.address.location.lng},name:t.name})})),r.a.createElement(F.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",null,r.a.createElement("h1",null,this.state.selectedPlace.name)))))}}]),t}(n.Component),D=Object(F.GoogleApiWrapper)({apiKey:"AIzaSyCmjvkXB_DMnBUNwxQztLMStyQmA_szbNw"})(L),R=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(m.a)(c,2),i=o[0],h=o[1],E=Object(n.useState)(0),b=Object(m.a)(E,2),g=b[0],f=b[1],v=Object(n.useState)(0),k=Object(m.a)(v,2),j=k[0],O=k[1],w=Object(n.useState)(0),M=Object(m.a)(w,2),C=M[0],S=M[1],N=Object(n.useState)({}),y=Object(m.a)(N,2),x=y[0],I=y[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var P=function(){var e=a.filter((function(e){return function(e,t){var a=e.latitude,n=e.longitude,r=t.latitude,l=t.longitude,c=a*(Math.PI/180),o=r*(Math.PI/180),i=(r-a)*(Math.PI/180),s=(l-n)*(Math.PI/180),u=Math.sin(i/2)*Math.sin(i/2)+Math.cos(c)*Math.cos(o)*(Math.sin(s/2)*Math.sin(s/2));return 6371e3*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}({latitude:e.address.location.lat,longitude:e.address.location.lng},{latitude:x.lat,longitude:x.lng})<=+g}));h(e)};Object(n.useEffect)((function(){W()}),[i]);var W=function(){var e=i.map((function(e){return e.rating})).reduce((function(e,t){return e+t}),0)/i.length;S(e);var t=i.map((function(t){return Math.pow(t.rating-e,2)})).reduce((function(e,t){return e+t}),0)/i.length,a=Math.sqrt(t);O(a)};return r.a.createElement(d.a,null,"Selecciona el punto de partida inicial dando click en el mapa",r.a.createElement("br",null),r.a.createElement("br",null),"Ingresa el radio de tu b\xfasqueda a partir de tu posici\xf3n inicial",r.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){f(e.target.value)},value:g}),r.a.createElement("br",null),r.a.createElement("button",{className:"form-control",onClick:function(){P()}}," ","Encontrar"),r.a.createElement("br",null),r.a.createElement("br",null),i.length>0?r.a.createElement("div",null,r.a.createElement("div",null,"N\xfamero total de restaurantes en el radio dado"," ",i.length),r.a.createElement("div",null,"Promedio de rating de restaurantes en el rango seleccionado"," ",C),r.a.createElement("div",null,"Desviaci\xf3n Est\xe1ndar"," ",j)):"A\xfan no has hecho ninguna b\xfasqueda",r.a.createElement("br",null),r.a.createElement(p.a,null,r.a.createElement(D,{data:i,locationChanged:function(e){I(e),console.log(e)}})))},_=a(20),J=function(){return r.a.createElement(z.a,null,r.a.createElement(A,null),r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/",exact:!0},r.a.createElement(B,null)),r.a.createElement(_.a,{path:"/map",exact:!0},r.a.createElement(R,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(132);c.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},63:function(e,t,a){e.exports=a(133)},68:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.6b044ec2.chunk.js.map